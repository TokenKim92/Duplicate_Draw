/*! For license information please see duplication.min.js.LICENSE.txt */
!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.DuplicateDraw=i():t.DuplicateDraw=i()}(self,(()=>(()=>{"use strict";var t={d:(i,e)=>{for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i)},i={};t.d(i,{default:()=>c});class e{#t;#i;#e;#s;#h;constructor(){this.#t=document.createElement("canvas"),this.#i=this.#t.getContext("2d"),document.body.append(this.#t),this.#e=1}destroy(){this.clearCanvas(),document.body.removeChild(this.#t)}resize(){this.#s=document.body.clientWidth,this.#h=document.body.clientHeight,this.#t.width=this.#s*this.#e,this.#t.height=this.#h*this.#e,this.#i.scale(this.#e,this.#e)}clearCanvas(){this.#i.clearRect(0,0,this.#s,this.#h)}addEventToCanvas(t,i){this.#t.addEventListener(t,i)}removeEventToCanvas(t,i){this.#t.removeEventListener(t,i)}get ctx(){return this.#i}get stageWidth(){return this.#s}get stageHeight(){return this.#h}}class s{#a;#r;#c;constructor(t,i,e){this.#a=t,this.#r=i,this.#c=e}get width(){return this.#a()}get size(){return this.#a()}get size(){return this.#a()}get font(){return`${this.#a} ${this.#r}px ${this.#c}`}}class h{#o;#g;#a;#n;constructor(t,i,e,s){this.#o=t,this.#g=i,this.#a=e,this.#n=s}get x(){return this.#o}set x(t){this.#o=t}get y(){return this.#g}set y(t){this.#g=t}get width(){return this.#a}set width(t){this.#o=x}get height(){return this.#n}set height(t){this.#n=t}}const a=2*Math.PI;class r extends e{static LINE_COLOR="rgb(0, 0, 0)";static BG_THICKNESS=6;static BG_HALF_THICKNESS=r.BG_THICKNESS/2;static BG_COLOR="rgba(255, 255, 255, 0.9)";static TITLE="GOGH";static SUB_TITLE="Inspired by 'Interactive Developer'";#d;#m;#l;#x;#T;#S;constructor(t,i,e){super(),this.#d=t,this.#m=new h(i.x,0,i.width,i.width*(this.#d.height/this.#d.width)),this.#x=e,this.#T=new s(800,300,"Arial"),this.#S=new s(600,40,"Arial")}resize(){super.resize(),this.#m.y=this.stageHeight,this.#l={x:this.stageWidth/this.#m.width,y:this.stageHeight/this.#m.height}}getImgParticleInfo(){this.ctx.drawImage(this.#d,0,0,this.#d.width,this.#d.height,0,0,this.#m.width,this.#m.height);const t=this.ctx.getImageData(0,0,this.#m.width,this.#m.height).data;let i,e=[];for(let s=0;s<this.#m.height;s++)for(let h=0;h<this.#m.width;h++)i=4*(h+s*this.#m.width),e.push({x:h*this.#l.x,y:s*this.#l.y,color:`rgb(${t[i]}, ${t[i+1]}, ${t[i+2]})`});return e}drawLineToParticle(t){this.ctx.save(),this.ctx.strokeStyle=r.LINE_COLOR,this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y),this.ctx.lineTo(this.#m.x+t.x/this.#l.x,this.#m.y+t.y/this.#l.y),this.ctx.stroke(),this.ctx.fillStyle=t.color,this.ctx.beginPath(),this.ctx.arc(this.#m.x+t.x/this.#l.x,this.#m.y+t.y/this.#l.y,4,0,a),this.ctx.fill(),this.ctx.restore()}drawImage=()=>{this.#R(),this.#I(),this.#u(),this.ctx.drawImage(this.#d,0,0,this.#d.width,this.#d.height,this.#m.x,this.#m.y,this.#m.width,this.#m.height),this.#m.y-=this.#x};#R(){this.ctx.save(),this.ctx.font=this.#T.font,this.ctx.fillStyle=r.BG_COLOR;const t=this.ctx.measureText(r.TITLE);this.ctx.fillText(r.TITLE,(this.stageWidth-t.width)/2,(this.stageHeight+t.actualBoundingBoxAscent-t.actualBoundingBoxDescent)/2),this.ctx.restore()}#I(){this.ctx.save(),this.ctx.font=this.#S.font,this.ctx.fillStyle=r.BG_COLOR,this.ctx.textBaseline="middle";const t=this.ctx.measureText(r.SUB_TITLE);this.ctx.fillText(r.SUB_TITLE,(this.stageWidth-t.width)/2,50),this.ctx.restore()}#u(){this.ctx.save(),this.ctx.fillStyle=r.BG_COLOR,this.ctx.fillRect(this.#m.x-r.BG_HALF_THICKNESS,this.#m.y-r.BG_HALF_THICKNESS,this.#m.width+r.BG_THICKNESS,this.#m.height+r.BG_THICKNESS),this.ctx.restore()}get isDisappeared(){return this.#m.y+1.5*this.#m.height<0}}class c extends e{static MAX_CIRCLES_PER_FRAME=10;static IMG_POS_LEFT=150;static IMAGE_WIDTH=300;static IMAGE_MOVING_SPEED=2;static FPS_SETTING=5;static FPS_TIME_SETTING=1e3/c.FPS_SETTING;static SETTING_VELOCITY=1.03;static MAX_RADIUS=200;static MIN_RADIUS=10;#p;#w=0;#_;#E;#y=1;#F=2;#G=.2;#v=!1;#P=c.MAX_RADIUS;constructor(t){super();const i=new h(c.IMG_POS_LEFT,0,c.IMAGE_WIDTH,0);this.#p=new r(t,i,c.IMAGE_MOVING_SPEED),this.resize(),this.#E=this.#p.getImgParticleInfo(),this.#_=this.#E.length-1}destroy(){this.#p&&this.#p.destroy(),super.destroy()}resize(){super.resize(),this.#p&&this.#p.resize()}animate(t){this.#f(t),this.#u()}#f(t){this.#w||(this.#w=t),t-this.#w>c.FPS_TIME_SETTING&&(this.#w=t,this.#L())}#L(){this.#F*=c.SETTING_VELOCITY,this.#G*=c.SETTING_VELOCITY,this.#P>c.MIN_RADIUS&&(this.#P-=this.#F),this.#y<c.MAX_CIRCLES_PER_FRAME&&(this.#y+=this.#G)}#u(){if(this.#p){this.#p.clearCanvas(),this.#p.drawImage();let t,i=0;for(let e=0;e<this.#y;e++)i=Math.round(Math.random()*this.#_),t=this.#E[i],this.#C(t),this.#p.isDisappeared||this.#p.drawLineToParticle(t)}}#C(t){let i;i=Math.random()*this.#P+c.MIN_RADIUS,this.ctx.beginPath(),this.ctx.fillStyle=t.color,this.ctx.arc(t.x,t.y,i,0,a),this.ctx.fill()}get isImgLoaded(){return this.#v}}return i.default})()));